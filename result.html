<script>
document.addEventListener("DOMContentLoaded", () => {
  const score = localStorage.getItem("score");
  const answers = JSON.parse(localStorage.getItem("answers"));

  document.querySelectorAll("h2")[0].innerText = `You scored ${score} out of 10`;

  const container = document.querySelector(".quiz-result");
  container.innerHTML = `<h2>You scored ${score} out of 10</h2>`;

  answers.forEach((entry) => {
    const div = document.createElement("div");
    div.classList.add("question-container");
    if (entry.userAnswer !== entry.correctAnswer) {
      div.classList.add("incorrect");
    }
    div.innerHTML = `
      <div class="question">${entry.question}</div>
      <div class="user-answer">Your answer: ${entry.userAnswer}</div>
      <div class="correct-answer">Correct answer: ${entry.correctAnswer}</div>
    `;
    container.appendChild(div);
  });

  const btn = document.createElement("button");
  btn.classList.add("retake-btn");
  btn.innerText = "Retake Quiz";
  btn.onclick = () => window.location.href = "game.html";
  container.appendChild(btn);
});
</script>
